<div class="card text-center" *ngIf="!this.userNote.deleted">
  <div class="card-header">
    <span
      *ngIf="userNote.status === 'Todo'"
      (click)="changeNoteStatus()"
      class="badge badge-pill badge-success float-start non-select"
      title="Click to change status to done"
      >Todo</span
    >
    <span
      *ngIf="userNote.status === 'Done'"
      (click)="changeNoteStatus()"
      class="badge badge-pill badge-warning float-start non-select"
      title="Click to change status to todo"
      >Done</span
    >
    <div class="data-container">
      <div class="text-muted">
        Created On: {{ userNote.created.seconds * 1000 | date: "yyyy/MM/dd" }}
      </div>
      <div class="text-muted">
        Edited On: {{ userNote.edited.seconds * 1000 | date: "yyyy/MM/dd" }}
      </div>
    </div>

    <div class="icon-container">
      <img
        (click)="deleteNote()"
        class="float-right"
        src="assets/images/logo/delete-icon.png"
        title="Click to delete the note"
      />
      <img
        *ngIf="form.dirty"
        (click)="save()"
        class="float-right"
        src="assets/images/logo/floppy-disk.png"
        title="Click to save any changes"
      />
      <img
        *ngIf="form.dirty"
        (click)="undo()"
        class="float-right"
        src="assets/images/logo/undo.png"
        title="Click to undo any changes"
      />
    </div>
  </div>
  <form [formGroup]="form">
    <div class="card-body">
      <input class="form-control" type="text" formControlName="title" />
      <div class="form-group">
        <textarea
          class="form-control"
          rows="4"
          formControlName="body"
        ></textarea>
      </div>
    </div>
    <img
      *ngIf="userNote.media !== ''"
      [src]="userNote.media"
      class="img-thumbnail media-image"
    />
  </form>
</div>
